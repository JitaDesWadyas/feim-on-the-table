<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<title>FEIM: On the Table – Character Sheet</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>
:root{
  --amber:#ffcc66;
  --bg:#1a1a1a;
  --fg:#f0e6d2;
  --panel:#2a2a2a;
  --border:#444;
}
/* layout */
body{font-family:sans-serif;background:var(--bg);color:var(--fg);max-width:640px;margin:auto;padding:1rem}
h1,h2{color:var(--amber);border-bottom:1px solid #555;padding-bottom:.2rem;margin-top:1.5rem}
label{font-weight:bold;margin-top:1rem;display:block}
input[type="text"],input[type="number"],textarea{
  width:100%;background:var(--panel);color:var(--fg);
  border:1px solid var(--border);padding:.6rem;box-sizing:border-box;margin-top:.3rem
}
input[type="number"]{max-width:90px}
table{width:100%;border-collapse:collapse;margin-top:.5rem}
th,td{border:1px solid var(--border);padding:.4rem;text-align:left}
th{background:#333}
th.effect,td.effect{width:48%}          /* Effetto larghissimo */
th.time,td.time{width:60px}
th.cost,td.cost{width:70px}
/* slider XL */
.slider-wrap{display:flex;align-items:center;gap:.5rem;margin-top:1rem}
.slider-wrap button{background:var(--panel);color:var(--amber);border:1px solid var(--border);font-size:1.2rem;width:38px;height:38px;cursor:pointer}
.slider-wrap span{min-width:50px;text-align:right;pointer-events:none}
input[type=range]{flex:1;height:34px;appearance:none;background:transparent}
input[type=range]::-webkit-slider-thumb{appearance:none;width:30px;height:30px;background:var(--amber);border-radius:50%;border:none}
input[type=range]::-webkit-slider-runnable-track{height:8px;background:#555;border-radius:4px}
input[type=range]::-moz-range-thumb{width:30px;height:30px;background:var(--amber);border:none;border-radius:50%}
input[type=range]::-moz-range-track{height:8px;background:#555;border-radius:4px}
footer{text-align:center;margin-top:2rem;color:#777;font-size:.8rem}
</style>
</head>
<body>
<h1>FEIM: On the Table</h1>

<!-- Identity -->
<label>Name</label>
<input data-key="name" class="persist" type="text" placeholder="Character Name">
<label>Title</label>
<input data-key="title" class="persist" type="text" placeholder="e.g. Wanderer">

<!-- Stats -->
<h2>Statistics (1-10)</h2>
<div style="display:flex;flex-wrap:wrap;gap:8px">
  <label>STR<input data-key="str" class="persist" type="number" min="1" max="10"></label>
  <label>DEX<input data-key="dex" class="persist" type="number" min="1" max="10"></label>
  <label>MAG<input data-key="mag" class="persist" type="number" min="1" max="10"></label>
  <label>CON<input data-key="con" class="persist" type="number" min="1" max="10"></label>
  <label>END<input data-key="end" class="persist" type="number" min="1" max="10"></label>
  <label>WIS<input data-key="wis" class="persist" type="number" min="1" max="10"></label>
</div>

<!-- Equipment -->
<h2>Equipment</h2>
<label>Weapon</label><input data-key="eq_weapon" class="persist" type="text">
<label>Head</label><input data-key="eq_head" class="persist" type="text">
<label>Chest</label><input data-key="eq_chest" class="persist" type="text">
<label>Legs</label><input data-key="eq_legs" class="persist" type="text">

<!-- Skills -->
<h2>Skills</h2>
<table>
<thead><tr><th>Name</th><th class="time">Time</th><th class="cost">Cost</th><th class="effect">Effect</th></tr></thead>
<tbody id="skills_tbody"></tbody>
</table>

<!-- Magic -->
<h2>Magic</h2>
<table>
<thead><tr><th>Name</th><th class="time">Time</th><th class="cost">Cost</th><th class="effect">Effect</th></tr></thead>
<tbody id="magic_tbody"></tbody>
</table>

<!-- Inventory -->
<h2>Inventory</h2>
<table>
<thead><tr><th>Name</th><th style="width:22%">Type</th><th class="effect">Description</th></tr></thead>
<tbody id="inv_tbody"></tbody>
</table>

<!-- Diary -->
<h2>Diary</h2>
<textarea data-key="diary" class="persist" rows="6" placeholder="Session notes…"></textarea>

<!-- In-Game -->
<h2>In-Game</h2>
<div class="slider-wrap">
  <button data-slider="hp" class="dec">–</button>
  HP <input data-key="hp" data-step="0.5" class="persist slider" type="range" min="0" max="50" step="0.5"><span id="hp_val"></span>
  <button data-slider="hp" class="inc">+</button>
</div>
<div class="slider-wrap">
  <button data-slider="stamina" class="dec">–</button>
  Stamina <input data-key="stamina" data-step="0.5" class="persist slider" type="range" min="0" max="30" step="0.5"><span id="stamina_val"></span>
  <button data-slider="stamina" class="inc">+</button>
</div>
<div class="slider-wrap">
  <button data-slider="mana" class="dec">–</button>
  Mana <input data-key="mana" data-step="0.5" class="persist slider" type="range" min="0" max="30" step="0.5"><span id="mana_val"></span>
  <button data-slider="mana" class="inc">+</button>
</div>
<div class="slider-wrap">
  <button data-slider="time" class="dec">–</button>
  Time <input data-key="time" data-step="0.5" class="persist slider" type="range" min="0" max="6" step="0.5"><span id="time_val"></span>
  <button data-slider="time" class="inc">+</button>
</div>

<footer>© 2025 JitaDesWadyas</footer>

<script>
// ---------- helpers ----------
function makeInput(key, cls="persist", type="text"){const i=document.createElement("input");i.type=type;i.dataset.key=key;i.className=cls;return i;}
function persistInit(){
  document.querySelectorAll(".persist").forEach(el=>{
    const k="feim_"+el.dataset.key;
    if(localStorage.getItem(k)!==null) el.value=localStorage.getItem(k);
    if(el.type==="range") document.getElementById(el.dataset.key+"_val").textContent=el.value;
    el.addEventListener("input",()=>{
      localStorage.setItem(k,el.value);
      if(el.type==="range") document.getElementById(el.dataset.key+"_val").textContent=el.value;
    });
  });
}
// ---------- generate rows ----------
function genRows(tbodyId,prefix,count){
  const tb=document.getElementById(tbodyId);
  for(let i=0;i<count;i++){
    const tr=tb.insertRow();
    ["name","time","cost","eff"].forEach((field,idx)=>{
      const td=tr.insertCell();
      if(idx===3) td.className="effect";
      else if(field==="time") td.className="time";
      else if(field==="cost") td.className="cost";
      td.appendChild(makeInput(`${prefix}_${i}_${field}`));
    });
  }
}
function genInvRows(){
  const tb=document.getElementById("inv_tbody");
  for(let i=0;i<24;i++){
    const tr=tb.insertRow();
    tr.insertCell().appendChild(makeInput(`inv_${i}_name`));
    tr.insertCell().appendChild(makeInput(`inv_${i}_type`));
    const tdDesc=tr.insertCell();tdDesc.className="effect";
    tdDesc.appendChild(makeInput(`inv_${i}_desc`));
  }
}
// ---------- slider buttons ----------
function sliderButtons(){
  document.querySelectorAll("button.dec,button.inc").forEach(btn=>{
    btn.addEventListener("click",()=>{
      const id=btn.dataset.slider;
      const slider=document.querySelector(`input[data-key="${id}"]`);
      const step=parseFloat(slider.dataset.step||1);
      slider.value=parseFloat(slider.value)+(btn.classList.contains("inc")?step:-step);
      slider.dispatchEvent(new Event("input"));
    });
  });
}
// ---------- init ----------
genRows("skills_tbody","skill",10);
genRows("magic_tbody","magic",10);
genInvRows();
persistInit();
sliderButtons();
</script>
</body>
</html>
